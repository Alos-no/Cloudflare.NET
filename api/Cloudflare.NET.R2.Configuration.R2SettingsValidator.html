<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title>Class R2SettingsValidator | Cloudflare.NET </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="Class R2SettingsValidator | Cloudflare.NET ">
      <meta name="description" content="Cloudflare.NET SDK - A comprehensive C# client library for the Cloudflare REST API. Manage DNS, Zones, R2 storage, Workers, WAF, and security with strongly-typed .NET code.">
      <meta name="description" content="Validates  to ensure all required configuration is present and valid. This validator is invoked at startup when using ValidateOnStart(), providing immediate feedback for configuration issues rather than waiting for the first API call to fail.">
      <link rel="icon" href="../images/favicon.svg">
      <link rel="stylesheet" href="../public/docfx.min.css">
      <link rel="stylesheet" href="../public/main.css">
      <meta name="docfx:navrel" content="../toc.html">
      <meta name="docfx:tocrel" content="toc.html">
      
      <meta name="docfx:rel" content="../">
      
      
      <meta name="docfx:docurl" content="https://github.com/Alos-no/Cloudflare.NET/new/main/docs/api/new?filename=Cloudflare_NET_R2_Configuration_R2SettingsValidator.md&amp;value=---%0Auid%3A%20Cloudflare.NET.R2.Configuration.R2SettingsValidator%0Asummary%3A%20&#39;*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax&#39;%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
      <meta name="loc:downloadPdf" content="Download PDF">

      <script type="module" src="./../public/docfx.min.js"></script>

      <script>
        const theme = localStorage.getItem('theme') || 'auto'
        document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
      </script>

      <script async src="https://www.googletagmanager.com/gtag/js?id=G-J3X1J125E2"></script>
      <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());
        gtag('config', 'G-J3X1J125E2');
      </script>
  </head>

  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="ManagedReference">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="../index.html">
            <img id="logo" class="svg" src="../images/logo.svg" alt="Cloudflare.NET">
            Cloudflare.NET
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
              <form class="search" role="search" id="search">
                <i class="bi bi-search"></i>
                <input class="form-control" id="search-query" type="search" disabled placeholder="Search" autocomplete="off" aria-label="Search">
              </form>
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">
      <div class="toc-offcanvas">
        <div class="offcanvas-md offcanvas-start" tabindex="-1" id="tocOffcanvas" aria-labelledby="tocOffcanvasLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="tocOffcanvasLabel">Table of Contents</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#tocOffcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <nav class="toc" id="toc"></nav>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="actionbar">
          <button class="btn btn-lg border-0 d-md-none" type="button" data-bs-toggle="offcanvas" data-bs-target="#tocOffcanvas" aria-controls="tocOffcanvas" aria-expanded="false" aria-label="Show table of contents">
            <i class="bi bi-list"></i>
          </button>

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="Cloudflare.NET.R2.Configuration.R2SettingsValidator">



  <h1 id="Cloudflare_NET_R2_Configuration_R2SettingsValidator" data-uid="Cloudflare.NET.R2.Configuration.R2SettingsValidator" class="text-break">
Class R2SettingsValidator  <a class="header-action link-secondary" title="View source" href="https://github.com/Alos-no/Cloudflare.NET/blob/main/src/Cloudflare.NET.R2/Configuration/R2SettingsValidator.cs/#L30"><i class="bi bi-code-slash"></i></a>
  </h1>

  <div class="facts text-secondary">
    <dl><dt>Namespace</dt><dd><a class="xref" href="Cloudflare.html">Cloudflare</a>.<a class="xref" href="Cloudflare.NET.html">NET</a>.<a class="xref" href="Cloudflare.NET.R2.html">R2</a>.<a class="xref" href="Cloudflare.NET.R2.Configuration.html">Configuration</a></dd></dl>
  <dl><dt>Assembly</dt><dd>Cloudflare.NET.R2.dll</dd></dl>
  </div>

  <div class="markdown summary"><p>Validates <a class="xref" href="Cloudflare.NET.R2.Configuration.R2Settings.html">R2Settings</a> to ensure all required configuration is present and valid. This validator
is invoked at startup when using <code>ValidateOnStart()</code>, providing immediate feedback for configuration issues
rather than waiting for the first API call to fail.</p>
</div>
  <div class="markdown conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public class R2SettingsValidator : IValidateOptions&lt;R2Settings&gt;</code></pre>
  </div>




  <dl class="typelist inheritance">
    <dt>Inheritance</dt>
    <dd>
      <div><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object">object</a></div>
      <div><span class="xref">R2SettingsValidator</span></div>
    </dd>
  </dl>

  <dl class="typelist implements">
    <dt>Implements</dt>
    <dd>
      <div><a class="xref" href="https://learn.microsoft.com/dotnet/api/microsoft.extensions.options.ivalidateoptions-1">IValidateOptions</a>&lt;<a class="xref" href="Cloudflare.NET.R2.Configuration.R2Settings.html">R2Settings</a>&gt;</div>
    </dd>
  </dl>


  <dl class="typelist inheritedMembers">
    <dt>Inherited Members</dt>
    <dd>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.equals#system-object-equals(system-object)">object.Equals(object)</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.equals#system-object-equals(system-object-system-object)">object.Equals(object, object)</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.gethashcode">object.GetHashCode()</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.gettype">object.GetType()</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.memberwiseclone">object.MemberwiseClone()</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.referenceequals">object.ReferenceEquals(object, object)</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.tostring">object.ToString()</a>
    </div>
  </dd></dl>




  <h2 id="Cloudflare_NET_R2_Configuration_R2SettingsValidator_remarks">Remarks</h2>
  <div class="markdown level0 remarks"><p>
  This validator checks that the R2 S3 credentials (AccessKeyId and SecretAccessKey) are provided. It also
  validates that the EndpointUrl, if customized, contains the required '{0}' placeholder for the Account ID.
</p>
<p>
  The validation errors are designed to be clear and actionable, mentioning "Cloudflare R2" explicitly so
  developers can quickly identify the source of configuration issues.
</p>
<p>
  For validation of <a class="xref" href="Cloudflare.NET.Core.CloudflareApiOptions.html">CloudflareApiOptions</a> (AccountId), use
  <a class="xref" href="Cloudflare.NET.Core.Validation.CloudflareApiOptionsValidator.html">CloudflareApiOptionsValidator</a> with
  <a class="xref" href="Cloudflare.NET.Core.Validation.CloudflareValidationRequirements.html#Cloudflare_NET_Core_Validation_CloudflareValidationRequirements_ForR2">ForR2</a>.
</p>
<p>
  When registered as <a class="xref" href="https://learn.microsoft.com/dotnet/api/microsoft.extensions.options.ivalidateoptions-1">IValidateOptions&lt;TOptions&gt;</a>, this validator skips named options by default.
  The <a class="xref" href="Cloudflare.NET.R2.R2ClientFactory.html">R2ClientFactory</a> should use <a class="xref" href="Cloudflare.NET.R2.Configuration.R2SettingsValidator.html#Cloudflare_NET_R2_Configuration_R2SettingsValidator_ValidateConfiguration_System_String_Cloudflare_NET_R2_Configuration_R2Settings_">ValidateConfiguration(string?, R2Settings)</a> directly for explicit validation
  with <a class="xref" href="Cloudflare.NET.R2.Exceptions.CloudflareR2ConfigurationException.html">CloudflareR2ConfigurationException</a>.
</p>
</div>


  <h2 class="section" id="constructors">Constructors
</h2>


  <a id="Cloudflare_NET_R2_Configuration_R2SettingsValidator__ctor_" data-uid="Cloudflare.NET.R2.Configuration.R2SettingsValidator.#ctor*"></a>

  <h3 id="Cloudflare_NET_R2_Configuration_R2SettingsValidator__ctor" data-uid="Cloudflare.NET.R2.Configuration.R2SettingsValidator.#ctor">
  R2SettingsValidator()
  <a class="header-action link-secondary" title="View source" href="https://github.com/Alos-no/Cloudflare.NET/blob/main/src/Cloudflare.NET.R2/Configuration/R2SettingsValidator.cs/#L60"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Initializes a new instance of the <a class="xref" href="Cloudflare.NET.R2.Configuration.R2SettingsValidator.html">R2SettingsValidator</a> class with default skip behavior for
named options.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public R2SettingsValidator()</code></pre>
  </div>













  <a id="Cloudflare_NET_R2_Configuration_R2SettingsValidator__ctor_" data-uid="Cloudflare.NET.R2.Configuration.R2SettingsValidator.#ctor*"></a>

  <h3 id="Cloudflare_NET_R2_Configuration_R2SettingsValidator__ctor_System_Boolean_" data-uid="Cloudflare.NET.R2.Configuration.R2SettingsValidator.#ctor(System.Boolean)">
  R2SettingsValidator(bool)
  <a class="header-action link-secondary" title="View source" href="https://github.com/Alos-no/Cloudflare.NET/blob/main/src/Cloudflare.NET.R2/Configuration/R2SettingsValidator.cs/#L72"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Initializes a new instance of the <a class="xref" href="Cloudflare.NET.R2.Configuration.R2SettingsValidator.html">R2SettingsValidator</a> class with explicit skip behavior
control.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public R2SettingsValidator(bool skipNamedOptions)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>skipNamedOptions</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.boolean">bool</a></dt>
    <dd><p>If <a href="https://learn.microsoft.com/dotnet/csharp/language-reference/builtin-types/bool">true</a>, the validator returns
<a class="xref" href="https://learn.microsoft.com/dotnet/api/microsoft.extensions.options.validateoptionsresult.skip">Skip</a> for named options (non-default names). Set to <a href="https://learn.microsoft.com/dotnet/csharp/language-reference/builtin-types/bool">false</a> when
performing explicit validation in the factory.</p>
</dd>
  </dl>












  <h2 class="section" id="methods">Methods
</h2>


  <a id="Cloudflare_NET_R2_Configuration_R2SettingsValidator_Validate_" data-uid="Cloudflare.NET.R2.Configuration.R2SettingsValidator.Validate*"></a>

  <h3 id="Cloudflare_NET_R2_Configuration_R2SettingsValidator_Validate_System_String_Cloudflare_NET_R2_Configuration_R2Settings_" data-uid="Cloudflare.NET.R2.Configuration.R2SettingsValidator.Validate(System.String,Cloudflare.NET.R2.Configuration.R2Settings)">
  Validate(string?, R2Settings)
  <a class="header-action link-secondary" title="View source" href="https://github.com/Alos-no/Cloudflare.NET/blob/main/src/Cloudflare.NET.R2/Configuration/R2SettingsValidator.cs/#L82"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Validates a specific named options instance (or all when name is null).</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public ValidateOptionsResult Validate(string? name, R2Settings options)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>name</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.string">string</a></dt>
    <dd><p>The name of the options instance being validated.</p>
</dd>
    <dt><code>options</code> <a class="xref" href="Cloudflare.NET.R2.Configuration.R2Settings.html">R2Settings</a></dt>
    <dd><p>The options instance.</p>
</dd>
  </dl>

  <h4 class="section">Returns</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/microsoft.extensions.options.validateoptionsresult">ValidateOptionsResult</a></dt>
    <dd><p>The <a class="xref" href="https://learn.microsoft.com/dotnet/api/microsoft.extensions.options.validateoptionsresult">ValidateOptionsResult</a> result.</p>
</dd>
  </dl>











  <a id="Cloudflare_NET_R2_Configuration_R2SettingsValidator_ValidateConfiguration_" data-uid="Cloudflare.NET.R2.Configuration.R2SettingsValidator.ValidateConfiguration*"></a>

  <h3 id="Cloudflare_NET_R2_Configuration_R2SettingsValidator_ValidateConfiguration_System_String_Cloudflare_NET_R2_Configuration_R2Settings_" data-uid="Cloudflare.NET.R2.Configuration.R2SettingsValidator.ValidateConfiguration(System.String,Cloudflare.NET.R2.Configuration.R2Settings)">
  ValidateConfiguration(string?, R2Settings)
  <a class="header-action link-secondary" title="View source" href="https://github.com/Alos-no/Cloudflare.NET/blob/main/src/Cloudflare.NET.R2/Configuration/R2SettingsValidator.cs/#L108"><i class="bi bi-code-slash"></i></a>
  </h3>

  <div class="markdown level1 summary"><p>Validates the specified <a class="xref" href="Cloudflare.NET.R2.Configuration.R2Settings.html">R2Settings</a> and returns a result with error messages. This method is
intended for use by the <a class="xref" href="Cloudflare.NET.R2.R2ClientFactory.html">R2ClientFactory</a> to perform explicit validation with proper error messages that
include the client name.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public static ValidateOptionsResult ValidateConfiguration(string? name, R2Settings options)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>name</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.string">string</a></dt>
    <dd><p>The options name. For named clients, this should be the client name to include in error messages.
For default clients, pass <a href="https://learn.microsoft.com/dotnet/csharp/language-reference/keywords/null">null</a> or <a class="xref" href="https://learn.microsoft.com/dotnet/api/microsoft.extensions.options.options.defaultname">DefaultName</a>.</p>
</dd>
    <dt><code>options</code> <a class="xref" href="Cloudflare.NET.R2.Configuration.R2Settings.html">R2Settings</a></dt>
    <dd><p>The R2 settings to validate.</p>
</dd>
  </dl>

  <h4 class="section">Returns</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/microsoft.extensions.options.validateoptionsresult">ValidateOptionsResult</a></dt>
    <dd><p>A <a class="xref" href="https://learn.microsoft.com/dotnet/api/microsoft.extensions.options.validateoptionsresult">ValidateOptionsResult</a> indicating success or failure with error messages.</p>
</dd>
  </dl>












</article>

        <div class="contribution d-print-none">
          <a href="https://github.com/Alos-no/Cloudflare.NET/blob/main/src/Cloudflare.NET.R2/Configuration/R2SettingsValidator.cs/#L30" class="edit-link">Edit this page</a>
        </div>


      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>

    <div class="container-xxl search-results" id="search-results"></div>

    <footer class="border-top text-secondary">
      <div class="container-xxl">
        <div class="flex-fill">
          Built and maintained by <a href="https://alos.no" target="_blank" rel="noopener">Alos Engineering</a> Â· Licensed under <a href="https://github.com/Alos-no/Cloudflare.NET/blob/main/LICENSE.txt" target="_blank" rel="noopener">Apache 2.0</a>
        </div>
      </div>
    </footer>
  </body>
</html>
